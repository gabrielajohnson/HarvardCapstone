"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[872],{1872:function(a,i,e){e.r(i),e.d(i,{default:function(){return ta}});var t=e(6252),o=e(3577);const n={class:"search-results"},s=(0,t._)("div",{class:"tab-anchor",id:"overview"},null,-1),r={class:"results-list"},l=(0,t._)("div",{class:"tab-anchor",id:"books"},null,-1),u={class:"results-list"},c=(0,t._)("h4",null,"Books",-1),d={key:0},h={class:"list-row"},m=(0,t._)("small",null,"*From Google Books",-1),y=(0,t._)("div",{class:"tab-anchor",id:"articles"},null,-1),w={class:"results-list"},v=(0,t._)("h4",null,"Articles",-1),p={key:0},g={class:"list-row"},C=(0,t._)("small",null,"*From NY Times",-1),b=(0,t._)("div",{class:"tab-anchor",id:"podcasts"},null,-1),_={class:"results-list"},k=(0,t._)("h4",null,"Podcasts",-1),f={key:0},M={class:"list-row"},S=(0,t._)("small",null,"*From Listen Notes",-1),A=(0,t._)("div",{class:"tab-anchor",id:"documentaries"},null,-1),B={class:"results-list"},D=(0,t._)("h4",null,"Documentaries",-1),I={key:0},z={class:"list-row"},N=(0,t._)("small",null,"*From The Movie Database",-1);function L(a,i,e,L,P,T){const G=(0,t.up)("searchBar"),K=(0,t.up)("EncyclopediaResultDetail"),R=(0,t.up)("mediaTab"),H=(0,t.up)("router-link"),Z=(0,t.up)("mediaTabs");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(G,{countryModal:P.countryModal,onSearchCountry:i[0]||(i[0]=a=>T.searchCountry(a))},null,8,["countryModal"]),(0,t._)("h1",null,(0,o.zw)(e.homeCountry),1),(0,t._)("div",n,[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[s,(0,t.Wm)(R,{name:"Overview"},{default:(0,t.w5)((()=>[(0,t._)("div",r,[(0,t.Wm)(K,{country:P.originalCountry},null,8,["country"])])])),_:1}),l,(0,t.Wm)(R,{name:"Books"},{default:(0,t.w5)((()=>[(0,t._)("div",u,[c,0==P.books.length?((0,t.wg)(),(0,t.iD)("p",d,"No Results")):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(P.books,(a=>((0,t.wg)(),(0,t.j4)(H,{key:a.id,to:{name:"bookMedia",params:{id:a.id}}},{default:(0,t.w5)((()=>[(0,t._)("span",h,(0,o.zw)(a.volumeInfo.title),1)])),_:2},1032,["to"])))),128))]),m])),_:1}),y,(0,t.Wm)(R,{name:"Articles"},{default:(0,t.w5)((()=>[(0,t._)("div",w,[v,0==P.articles.length?((0,t.wg)(),(0,t.iD)("p",p,"No Results")):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(P.articles,(a=>((0,t.wg)(),(0,t.j4)(H,{key:a.id,to:{name:"articleMedia",params:{id:a.id}}},{default:(0,t.w5)((()=>[(0,t._)("span",g,(0,o.zw)(a.headline.main),1)])),_:2},1032,["to"])))),128))]),C])),_:1}),b,(0,t.Wm)(R,{name:"Podcasts"},{default:(0,t.w5)((()=>[(0,t._)("div",_,[k,0==P.podcasts.length?((0,t.wg)(),(0,t.iD)("p",f,"No Results")):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(P.podcasts,(a=>((0,t.wg)(),(0,t.j4)(H,{key:a.id,to:{name:"podcastMedia",params:{id:a.id}}},{default:(0,t.w5)((()=>[(0,t._)("span",M,(0,o.zw)(a.title_original),1)])),_:2},1032,["to"])))),128))]),S])),_:1}),A,(0,t.Wm)(R,{name:"Documentaries"},{default:(0,t.w5)((()=>[(0,t._)("div",B,[D,0==P.movies.length?((0,t.wg)(),(0,t.iD)("p",I,"No Results")):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(P.movies,(i=>((0,t.wg)(),(0,t.j4)(H,{key:i.id,to:{name:"movieMedia",params:{id:a.movie.id}}},{default:(0,t.w5)((()=>[(0,t._)("span",z,(0,o.zw)(i.title),1)])),_:2},1032,["to"])))),128))]),N])),_:1})])),_:1})])],64)}e(7658);var P=e(196),T=e(9963);const G={class:"search-bar"},K={class:"search-input"},R={class:"country-modal"},H=["onClick"],Z={key:0,class:"item error"},q=(0,t._)("p",null,"No results found!",-1),E=[q];function F(a,i,e,n,s,r){return(0,t.wg)(),(0,t.iD)("div",G,[(0,t._)("div",K,[(0,t.wy)((0,t._)("input",{type:"text",id:"countryInput","onUpdate:modelValue":i[0]||(i[0]=a=>s.searchInput=a),placeholder:"Search countries..."},null,512),[[T.nr,s.searchInput]]),(0,t.wy)((0,t._)("div",{onClick:i[1]||(i[1]=a=>{r.closeModal()}),class:"popup-close"},null,512),[[T.F8,s.searchInput&&s.localCountryModal]])]),(0,t.wy)((0,t._)("div",R,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(r.filteredList(),(i=>((0,t.wg)(),(0,t.iD)("div",{class:"item country",key:i},[(0,t._)("p",{onClick:e=>{a.$emit("search-country",i),r.closeModal()}},(0,o.zw)(i),9,H)])))),128))],512),[[T.F8,s.searchInput&&s.localCountryModal]]),s.searchInput&&!r.filteredList().length?((0,t.wg)(),(0,t.iD)("div",Z,E)):(0,t.kq)("",!0)])}var j=e(2262),U={data(){return{localCountryModal:this.countryModal,selected:"",searchInput:(0,j.iH)(""),countries:["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","The Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","CÃ´te d'Ivoire","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Holy See","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"]}},props:["countryModal"],watch:{selected(a){this.$emit("selected-year-changed",a)}},methods:{filteredList(){return this.localCountryModal=!0,this.countries.filter((a=>a.toLowerCase().includes(this.searchInput.toLowerCase())))},closeModal(){this.searchInput=(0,j.iH)("")}}},W=e(3744);const Y=(0,W.Z)(U,[["render",F]]);var O=Y,V=e(7030);const $={key:0},x=(0,t._)("h3",null,"Overview",-1);function J(a,i,e,n,s,r){return"function"!=typeof s.title?((0,t.wg)(),(0,t.iD)("div",$,[(0,t._)("h2",null,(0,o.zw)(s.title),1),x,(0,t._)("p",null,(0,o.zw)(s.overview),1)])):(0,t.kq)("",!0)}var Q={props:["country"],data(){return{content:{},id:String,url:String,overview:String,title:String}},async mounted(){const a=await P.ZP.get("/api/encyclopedias/"+this.country);this.content=await a.data,this.title=await this.content[0].country,this.id=await this.content[0].id,this.url=await this.content[0].url,this.overview=await this.content[0].overview,this.updateOverview()},watch:{country:async function(){const a=await P.ZP.get("/api/encyclopedias/"+this.country);this.content=await a.data,this.title=await this.content[0].country,this.id=await this.content[0].id,this.url=await this.content[0].url,this.overview=await this.content[0].overview,this.updateOverview()}},methods:{updateOverview(){this.overview=this.overview.replace(/(<)(.*?)(>)/g,""),this.overview=this.overview.replace(/(^\s\S*)/g,""),this.overview=this.overview.replace(/(officially)/g,"officially ")}}};const X=(0,W.Z)(Q,[["render",J]]);var aa=X,ia={components:{searchBar:O,EncyclopediaResultDetail:aa},props:["homeCountry"],data(){return{books:[],articles:[],movies:[],moviesAll:[],podcasts:[],description:"",title:"",countryChoice:"",originalCountry:"",countryModal:!0}},mounted(){this.$route.query.homeCountry?this.countryChoice=this.$route.query.homeCountry:this.countryChoice=sessionStorage.getItem("storedCountry"),null!=this.countryChoice&&this.searchCountry(this.countryChoice)},methods:{async searchCountry(a){V.Z.push({path:"search",query:{homeCountry:a}}),this.movies=[],this.countryChoice=a.toLowerCase(),this.originalCountry=a,sessionStorage.setItem("storedCountry",this.countryChoice);const i=await P.ZP.get("/api/books/country/"+this.countryChoice),e=await P.ZP.get("/api/articles/country/"+this.countryChoice),t=await P.ZP.get("/api/movies/country/"+this.countryChoice),o=await P.ZP.get("/api/podcasts/country/"+this.countryChoice);this.books=i.data,this.articles=e.data,this.moviesAll=t.data,this.podcasts=o.data,this.filterMovies(),this.countryModal=!1},filterMovies(){for(let a=0;a<this.moviesAll.length;a++)if(this.moviesAll[a].genre_ids.length>0)for(let i=0;i<this.moviesAll[a].genre_ids.length;i++)if(99==this.moviesAll[a].genre_ids[i]||36==this.moviesAll[a].genre_ids[i]){this.movies.push(this.moviesAll[a]);break}}}};const ea=(0,W.Z)(ia,[["render",L]]);var ta=ea}}]);
//# sourceMappingURL=872.1f9cb968.js.map